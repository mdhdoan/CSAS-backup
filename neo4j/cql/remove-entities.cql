/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Removing Articles
//
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CALL apoc.periodic.iterate('MATCH (n:Article|Cluster|Outlier|Source|Embedding) RETURN n', 'WITH n DETACH DELETE n', {batchSize:10000, parallel:false})
YIELD total RETURN total;
//
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// News Articles
//
DROP CONSTRAINT link_article IF EXISTS;
DROP INDEX title_article IF EXISTS;
DROP INDEX pub_date_article IF EXISTS;
DROP INDEX keywords_article IF EXISTS;
//
DROP INDEX summary_article IF EXISTS;
//
DROP CONSTRAINT id_outlier IF EXISTS;
//
//
// Clusters
//
DROP CONSTRAINT id_cluster IF EXISTS;
DROP INDEX label_cluster IF EXISTS;
DROP INDEX all_labels_cluster IF EXISTS;
DROP INDEX summary_cluster IF EXISTS;
DROP INDEX kbi_keywords_cluster IF EXISTS;
DROP INDEX mmr_keywords_cluster IF EXISTS;
DROP INDEX name_cluster IF EXISTS;
//
//
// Source
//
DROP CONSTRAINT id_source IF EXISTS;
//
//
DROP CONSTRAINT uid_embedding IF EXISTS;
DROP INDEX `embeddings` IF EXISTS;
//
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
